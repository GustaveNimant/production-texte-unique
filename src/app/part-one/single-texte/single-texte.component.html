<mat-spinner *ngIf="loading"></mat-spinner>
<div *ngIf="debug">Debug:Dans single-texte.component.html</div>
<div *ngIf="!loading">

    <div class="single-texte-pane">

	<div class="single-texte-info">
	    <h2>{{ texte.titre }}</h2>
	    <p>note : {{ texte?.noteMoyenne }} ({{ texte?.noteEcartType }}) </p>
	    <p>TexteId : {{ texte.texteId }} ( {{ texte.version }} ) </p>
	    <p>Shasum : {{texte.shasum}} </p>
	    <p>Contenu : {{ texte.contenu }}</p>
	    
	    <button class="btn btn-success m-1"
		    (click)="onNotate()"
		    [disabled]="part != 1 && auteurId !== texte?.auteurId">Noter</button>

	    <button class="btn btn-success m-1"
		    (click)="onNewTexteVersion()"
		    [disabled]="part != 1 && auteurId !== texte?.auteurId">Créer une nouvelle version</button>

	    <button class="btn btn-success m-1"
		    (click)="onModifyTexte()"
		    [disabled]="part != 1 && auteurId !== texte?.auteurId">Modifier l'enregistrement</button>

	    <button class="btn btn-danger m-1"
		    (click)="onDelete()"
		    [disabled]="part != 1 && auteurId !== texte?.auteurId">Supprimer</button>
	</div>
	
	<button class="btn btn-link"
		       (click)="onGoAllTexte()"><< Retour à la liste des Textes</button>

	<p class="alert-danger"
	   *ngIf="errorMessage">Dans single-texte.component.html.<br>Erreur<br> {{ errorMessage }}</p>
	
	<p class="alert-danger" *ngIf="!isAuth"><br>
	    Il faut <a class="header-link"
		       routerLink="/login"
		       routerLinkActive="active">
	    <button class="btn btn-primary">se connecter</button>
	    </a> pour modifier un texte
	</p>

    </div>
</div>
